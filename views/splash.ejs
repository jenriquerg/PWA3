<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Task Manager ‚Äî Bienvenida</title>
  <meta name="description" content="Gestor de tareas progresivo con soporte offline">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#0b74de">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,sans-serif}
    .splash{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;background:linear-gradient(135deg,#0b74de 0%,#0a5cb8 50%,#63b3ff 100%);color:white;padding:24px;text-align:center}
    .logo{width:140px;height:140px;border-radius:28px;background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;font-size:3.5rem;font-weight:700;margin-bottom:24px;box-shadow:0 8px 32px rgba(0,0,0,0.1);animation:float 3s ease-in-out infinite}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
    h1{font-size:2rem;margin-bottom:12px;font-weight:700}
    .subtitle{font-size:1.1rem;opacity:0.95;margin-bottom:32px;max-width:400px;line-height:1.5}
    .buttons{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
    button{padding:14px 24px;border:none;border-radius:12px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px rgba(0,0,0,0.15)}
    .btn-primary{background:white;color:#0b74de}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,0.2)}
    .btn-secondary{background:rgba(255,255,255,0.2);color:white;backdrop-filter:blur(10px)}
    .btn-secondary:hover{background:rgba(255,255,255,0.3);transform:translateY(-2px)}
    .features{margin-top:48px;display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:16px;max-width:500px}
    .feature{background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);padding:16px;border-radius:12px;font-size:0.9rem}
    .feature-icon{font-size:1.8rem;margin-bottom:8px}
    .install-prompt{margin-top:24px;padding:12px 20px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:8px;font-size:0.9rem;display:none}
    @media(max-width:600px){
      h1{font-size:1.6rem}
      .subtitle{font-size:1rem}
      .logo{width:120px;height:120px;font-size:3rem}
      .buttons{flex-direction:column;width:100%;max-width:280px}
      button{width:100%}
    }
  </style>
</head>
<body>
  <div class="splash">
    <div class="logo"></div>
    <h1>Task Manager</h1>
    <p class="subtitle">Tu gestor de tareas progresivo con soporte offline, notificaciones y sincronizaci√≥n</p>
    
    <div class="buttons">
      <button class="btn-primary" onclick="location.href='/app'">‚ö° Empezar (CSR)</button>
      <button class="btn-secondary" onclick="location.href='/'">üåê Ver Tareas (SSR)</button>
    </div>

    <div id="installPrompt" class="install-prompt">
      <strong>Instala la app</strong> para acceso r√°pido desde tu pantalla de inicio
    </div>

    <div class="features">
      <div class="feature">
        <div class="feature-icon"></div>
        <div>PWA Instalable</div>
      </div>
      <div class="feature">
        <div class="feature-icon"></div>
        <div>Notificaciones</div>
      </div>
      <div class="feature">
        <div class="feature-icon"></div>
        <div>Modo Offline</div>
      </div>
      <div class="feature">
        <div class="feature-icon"></div>
        <div>C√°mara & GPS</div>
      </div>
    </div>
  </div>

  <script>
    // Registrar service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('[Splash] SW registrado'))
        .catch(err => console.error('[Splash] Error SW:', err));
    }

    // Detectar si se puede instalar
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('installPrompt').style.display = 'block';
    });

    // Mostrar mensaje si ya est√° instalado
    if (window.matchMedia('(display-mode: standalone)').matches) {
      console.log('[Splash] App ya instalada');
    }
  </script>
</body>
</html>